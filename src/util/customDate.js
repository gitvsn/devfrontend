Date.prototype.customFormat = function (e) {
    var r, a, p, t, c, l, s, u, h, M, n, D, y, m, o, d, g, i, b, Y, F, S, A = this;
    return a = ((r = A.getFullYear()) + "").slice(-2), c = (l = A.getMonth() + 1) < 10 ? "0" + l : l, t = (p = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][l - 1]).substring(0, 3), h = (M = A.getDate()) < 10 ? "0" + M : M, u = (s = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][A.getDay()]).substring(0, 3), S = 10 <= M && M <= 20 ? "th" : 1 == (F = M % 10) ? "st" : 2 == F ? "nd" : 3 == F ? "rd" : "th", e = e.replace("#YYYY#", r).replace("#YY#", a).replace("#MMMM#", p).replace("#MMM#", t).replace("#MM#", c).replace("#M#", l).replace("#DDDD#", s).replace("#DDD#", u).replace("#DD#", h).replace("#D#", M).replace("#th#", S), 0 == (m = D = A.getHours() - 1) && (m = 24), y = m < 10 ? "0" + m : m, n = D < 10 ? "0" + D : D, Y = (b = D < 12 ? "am" : "pm").toUpperCase(), o = (d = A.getMinutes()) < 10 ? "0" + d : d, g = (i = A.getSeconds()) < 10 ? "0" + i : i, e.replace("#hhhh#", n).replace("#hhh#", D).replace("#hh#", y).replace("#h#", m).replace("#mm#", o).replace("#m#", d).replace("#ss#", g).replace("#s#", i).replace("#ampm#", b).replace("#AMPM#", Y)
};
